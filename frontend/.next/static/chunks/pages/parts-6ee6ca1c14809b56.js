(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[335],{9654:function(a,c,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/parts",function(){return e(2637)}])},2637:function(a,c,e){"use strict";e.r(c),e.d(c,{default:function(){return t}});var s=e(5893),r=e(2235),d=e.n(r),i=e(7294),l=e(5121);function t(){let[a,c]=(0,i.useState)([]),[e,r]=(0,i.useState)(null),[t,o]=(0,i.useState)({model_number:"",article_number:"",article_name:"",part_name:"",part_pseudo_name:"",part_description:"",part_weight:"",part_size:"",image:null}),[x,n]=(0,i.useState)(0),[m,b]=(0,i.useState)(null);function j(a){let{name:c,value:e,files:s}=a.target;o(a=>({...a,[c]:s?s[0]:e}))}function p(){r(null),o({model_number:"",article_number:"",article_name:"",part_name:"",part_pseudo_name:"",part_description:"",part_weight:"",part_size:"",image:null})}async function h(a){a.preventDefault();let c=new FormData;Object.entries(t).forEach(a=>{let[e,s]=a;null!=s&&c.append(e,s)}),e?await l.Z.put("/api/parts/".concat(e),c):await l.Z.post("/api/parts",c),n(a=>a+1),p()}async function u(a){confirm("Delete this part?")&&(await l.Z.delete("/api/parts/".concat(a)),n(a=>a+1))}return(0,i.useEffect)(()=>{l.Z.get("/api/parts").then(a=>c(a.data))},[x]),(0,s.jsxs)("div",{className:"jsx-a8578c179bc7cdaa part-mgmt-container",children:[(0,s.jsx)("h1",{className:"jsx-a8578c179bc7cdaa",children:"Add / Edit Product Part"}),(0,s.jsxs)("form",{onSubmit:h,className:"jsx-a8578c179bc7cdaa part-form",children:[(0,s.jsxs)("div",{className:"jsx-a8578c179bc7cdaa form-row",children:[(0,s.jsxs)("div",{className:"jsx-a8578c179bc7cdaa form-group",children:[(0,s.jsx)("label",{htmlFor:"model_number",className:"jsx-a8578c179bc7cdaa",children:"Model Number"}),(0,s.jsx)("input",{id:"model_number",name:"model_number",value:t.model_number,onChange:j,required:!0,className:"jsx-a8578c179bc7cdaa"})]}),(0,s.jsxs)("div",{className:"jsx-a8578c179bc7cdaa form-group",children:[(0,s.jsx)("label",{htmlFor:"article_number",className:"jsx-a8578c179bc7cdaa",children:"Article Number"}),(0,s.jsx)("input",{id:"article_number",name:"article_number",value:t.article_number,onChange:j,required:!0,className:"jsx-a8578c179bc7cdaa"})]})]}),(0,s.jsxs)("div",{className:"jsx-a8578c179bc7cdaa form-row",children:[(0,s.jsxs)("div",{className:"jsx-a8578c179bc7cdaa form-group",children:[(0,s.jsx)("label",{htmlFor:"article_name",className:"jsx-a8578c179bc7cdaa",children:"Article Name"}),(0,s.jsx)("input",{id:"article_name",name:"article_name",value:t.article_name,onChange:j,required:!0,className:"jsx-a8578c179bc7cdaa"})]}),(0,s.jsxs)("div",{className:"jsx-a8578c179bc7cdaa form-group",children:[(0,s.jsx)("label",{htmlFor:"part_name",className:"jsx-a8578c179bc7cdaa",children:"Part Number"}),(0,s.jsx)("input",{id:"part_name",name:"part_name",value:t.part_name,onChange:j,required:!0,className:"jsx-a8578c179bc7cdaa"})]})]}),(0,s.jsxs)("div",{className:"jsx-a8578c179bc7cdaa form-row",children:[(0,s.jsxs)("div",{style:{flex:2},className:"jsx-a8578c179bc7cdaa form-group",children:[(0,s.jsx)("label",{htmlFor:"part_pseudo_name",className:"jsx-a8578c179bc7cdaa",children:"Part Pseudo Name"}),(0,s.jsx)("textarea",{id:"part_pseudo_name",name:"part_pseudo_name",value:t.part_pseudo_name,onChange:j,rows:2,style:{resize:"vertical"},className:"jsx-a8578c179bc7cdaa"})]}),(0,s.jsxs)("div",{className:"jsx-a8578c179bc7cdaa form-group",children:[(0,s.jsx)("label",{htmlFor:"part_weight",className:"jsx-a8578c179bc7cdaa",children:"Part Weight"}),(0,s.jsx)("input",{id:"part_weight",name:"part_weight",value:t.part_weight,onChange:j,className:"jsx-a8578c179bc7cdaa"})]}),(0,s.jsxs)("div",{className:"jsx-a8578c179bc7cdaa form-group",children:[(0,s.jsx)("label",{htmlFor:"part_size",className:"jsx-a8578c179bc7cdaa",children:"Part Size"}),(0,s.jsx)("input",{id:"part_size",name:"part_size",value:t.part_size,onChange:j,className:"jsx-a8578c179bc7cdaa"})]})]}),(0,s.jsx)("div",{className:"jsx-a8578c179bc7cdaa form-row",children:(0,s.jsxs)("div",{style:{flex:1},className:"jsx-a8578c179bc7cdaa form-group",children:[(0,s.jsx)("label",{htmlFor:"part_description",className:"jsx-a8578c179bc7cdaa",children:"Part Description"}),(0,s.jsx)("textarea",{id:"part_description",name:"part_description",value:t.part_description,onChange:j,rows:3,style:{resize:"vertical"},className:"jsx-a8578c179bc7cdaa"})]})}),(0,s.jsx)("div",{className:"jsx-a8578c179bc7cdaa form-row",children:(0,s.jsxs)("div",{className:"jsx-a8578c179bc7cdaa form-group",children:[(0,s.jsx)("label",{htmlFor:"image",className:"jsx-a8578c179bc7cdaa",children:"Image"}),(0,s.jsx)("input",{type:"file",id:"image",name:"image",accept:"image/*",onChange:j,className:"jsx-a8578c179bc7cdaa"})]})}),(0,s.jsxs)("div",{className:"jsx-a8578c179bc7cdaa form-row",children:[(0,s.jsxs)("button",{type:"submit",className:"jsx-a8578c179bc7cdaa",children:[e?"Update":"Add"," Part"]}),e&&(0,s.jsx)("button",{type:"button",onClick:p,className:"jsx-a8578c179bc7cdaa",children:"Cancel"})]})]}),(0,s.jsxs)("div",{className:"jsx-a8578c179bc7cdaa part-list",children:[(0,s.jsx)("h2",{className:"jsx-a8578c179bc7cdaa",children:"All Parts"}),(0,s.jsxs)("table",{className:"jsx-a8578c179bc7cdaa",children:[(0,s.jsx)("thead",{className:"jsx-a8578c179bc7cdaa",children:(0,s.jsxs)("tr",{className:"jsx-a8578c179bc7cdaa",children:[(0,s.jsx)("th",{className:"jsx-a8578c179bc7cdaa",children:"Model #"}),(0,s.jsx)("th",{className:"jsx-a8578c179bc7cdaa",children:"Article #"}),(0,s.jsx)("th",{className:"jsx-a8578c179bc7cdaa",children:"Article Name"}),(0,s.jsx)("th",{className:"jsx-a8578c179bc7cdaa",children:"Part Number"}),(0,s.jsx)("th",{className:"jsx-a8578c179bc7cdaa",children:"Pseudo Name"}),(0,s.jsx)("th",{className:"jsx-a8578c179bc7cdaa",children:"Weight"}),(0,s.jsx)("th",{className:"jsx-a8578c179bc7cdaa",children:"Size"}),(0,s.jsx)("th",{className:"jsx-a8578c179bc7cdaa",children:"Image"}),(0,s.jsx)("th",{className:"jsx-a8578c179bc7cdaa",children:"Description"}),(0,s.jsx)("th",{className:"jsx-a8578c179bc7cdaa",children:"Actions"})]})}),(0,s.jsx)("tbody",{className:"jsx-a8578c179bc7cdaa",children:a.map(a=>(0,s.jsxs)("tr",{onClick:()=>b(a),style:{cursor:"pointer"},className:"jsx-a8578c179bc7cdaa clickable-row",children:[(0,s.jsx)("td",{style:{color:"#0070f3",textDecoration:"underline"},className:"jsx-a8578c179bc7cdaa",children:a.model_number}),(0,s.jsx)("td",{className:"jsx-a8578c179bc7cdaa",children:a.article_number}),(0,s.jsx)("td",{className:"jsx-a8578c179bc7cdaa",children:a.article_name}),(0,s.jsx)("td",{className:"jsx-a8578c179bc7cdaa",children:a.part_name}),(0,s.jsx)("td",{className:"jsx-a8578c179bc7cdaa",children:a.part_pseudo_name}),(0,s.jsx)("td",{className:"jsx-a8578c179bc7cdaa",children:a.part_weight}),(0,s.jsx)("td",{className:"jsx-a8578c179bc7cdaa",children:a.part_size}),(0,s.jsx)("td",{className:"jsx-a8578c179bc7cdaa",children:a.image&&(0,s.jsx)("img",{src:"/uploads/".concat(a.image),alt:"part",style:{width:40,height:40,objectFit:"cover"},className:"jsx-a8578c179bc7cdaa"})}),(0,s.jsx)("td",{className:"jsx-a8578c179bc7cdaa",children:a.part_description}),(0,s.jsxs)("td",{onClick:a=>a.stopPropagation(),className:"jsx-a8578c179bc7cdaa",children:[(0,s.jsx)("button",{onClick:()=>{r(a.id),o({...a,image:null})},className:"jsx-a8578c179bc7cdaa",children:"Edit"}),(0,s.jsx)("button",{onClick:()=>u(a.id),style:{color:"red"},className:"jsx-a8578c179bc7cdaa",children:"Delete"})]})]},a.id))})]}),m&&(0,s.jsx)("div",{onClick:()=>b(null),className:"jsx-a8578c179bc7cdaa modal-bg",children:(0,s.jsxs)("div",{onClick:a=>a.stopPropagation(),className:"jsx-a8578c179bc7cdaa modal",children:[(0,s.jsx)("h2",{className:"jsx-a8578c179bc7cdaa",children:m.model_number}),m.image&&(0,s.jsx)("img",{src:"/uploads/".concat(m.image),alt:"part",style:{width:200,height:200,objectFit:"contain",marginBottom:16},className:"jsx-a8578c179bc7cdaa"}),(0,s.jsxs)("div",{className:"jsx-a8578c179bc7cdaa modal-details-2col",children:[(0,s.jsxs)("div",{className:"jsx-a8578c179bc7cdaa modal-col modal-col-left",children:[(0,s.jsxs)("div",{className:"jsx-a8578c179bc7cdaa",children:[(0,s.jsx)("b",{className:"jsx-a8578c179bc7cdaa",children:"Model Number:"})," ",m.model_number]}),(0,s.jsxs)("div",{className:"jsx-a8578c179bc7cdaa",children:[(0,s.jsx)("b",{className:"jsx-a8578c179bc7cdaa",children:"Article Number:"})," ",m.article_number]}),(0,s.jsxs)("div",{className:"jsx-a8578c179bc7cdaa",children:[(0,s.jsx)("b",{className:"jsx-a8578c179bc7cdaa",children:"Article Name:"})," ",m.article_name]}),(0,s.jsxs)("div",{className:"jsx-a8578c179bc7cdaa",children:[(0,s.jsx)("b",{className:"jsx-a8578c179bc7cdaa",children:"Part Weight:"})," ",m.part_weight]}),(0,s.jsxs)("div",{className:"jsx-a8578c179bc7cdaa",children:[(0,s.jsx)("b",{className:"jsx-a8578c179bc7cdaa",children:"Part Size:"})," ",m.part_size]}),(0,s.jsxs)("div",{className:"jsx-a8578c179bc7cdaa",children:[(0,s.jsx)("b",{className:"jsx-a8578c179bc7cdaa",children:"Part Description:"})," ",m.part_description]})]}),(0,s.jsxs)("div",{className:"jsx-a8578c179bc7cdaa modal-col modal-col-right",children:[(0,s.jsxs)("div",{className:"jsx-a8578c179bc7cdaa",children:[(0,s.jsx)("b",{className:"jsx-a8578c179bc7cdaa",children:"Part Number:"})," ",m.part_name]}),(0,s.jsxs)("div",{className:"jsx-a8578c179bc7cdaa",children:[(0,s.jsx)("b",{className:"jsx-a8578c179bc7cdaa",children:"Part Pseudo Name:"})," ",m.part_pseudo_name]})]})]}),(0,s.jsx)("button",{onClick:()=>b(null),className:"jsx-a8578c179bc7cdaa",children:"Close"})]})})]}),(0,s.jsx)(d(),{id:"a8578c179bc7cdaa",children:'.part-mgmt-container.jsx-a8578c179bc7cdaa{max-width:1100px;margin:0 auto;padding:2rem}.part-form.jsx-a8578c179bc7cdaa{background:#fff;-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px;-webkit-box-shadow:0 2px 8px#0001;-moz-box-shadow:0 2px 8px#0001;box-shadow:0 2px 8px#0001;padding:1.5rem;margin-bottom:2rem}.form-row.jsx-a8578c179bc7cdaa{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;gap:1rem;margin-bottom:1rem}.form-group.jsx-a8578c179bc7cdaa{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-flex:1;-webkit-flex:1;-moz-box-flex:1;-ms-flex:1;flex:1}.form-group.jsx-a8578c179bc7cdaa label.jsx-a8578c179bc7cdaa{font-weight:500;margin-bottom:.3rem;color:#333}.form-group.jsx-a8578c179bc7cdaa input.jsx-a8578c179bc7cdaa,.form-group.jsx-a8578c179bc7cdaa textarea.jsx-a8578c179bc7cdaa{padding:.6rem;-webkit-border-radius:6px;-moz-border-radius:6px;border-radius:6px;border:1px solid#ccc;font-size:1rem}.form-group.jsx-a8578c179bc7cdaa textarea.jsx-a8578c179bc7cdaa{min-height:38px}.form-row.jsx-a8578c179bc7cdaa input[type="file"].jsx-a8578c179bc7cdaa{-webkit-box-flex:1;-webkit-flex:1;-moz-box-flex:1;-ms-flex:1;flex:1}.form-row.jsx-a8578c179bc7cdaa button.jsx-a8578c179bc7cdaa{padding:.5rem 1.2rem;background:#0070f3;color:#fff;border:none;-webkit-border-radius:6px;-moz-border-radius:6px;border-radius:6px;font-weight:bold;cursor:pointer}.form-row.jsx-a8578c179bc7cdaa button[type="button"].jsx-a8578c179bc7cdaa{background:#aaa;margin-left:1rem}.part-list.jsx-a8578c179bc7cdaa table.jsx-a8578c179bc7cdaa{width:100%;border-collapse:collapse;background:#fff;-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px;-webkit-box-shadow:0 2px 8px#0001;-moz-box-shadow:0 2px 8px#0001;box-shadow:0 2px 8px#0001}.part-list.jsx-a8578c179bc7cdaa th.jsx-a8578c179bc7cdaa,.part-list.jsx-a8578c179bc7cdaa td.jsx-a8578c179bc7cdaa{padding:.5rem;border-bottom:1px solid#eee;text-align:left}.part-list.jsx-a8578c179bc7cdaa th.jsx-a8578c179bc7cdaa{background:#f5f5f5}.part-list.jsx-a8578c179bc7cdaa img.jsx-a8578c179bc7cdaa{-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px}.modal-bg.jsx-a8578c179bc7cdaa{position:fixed;top:0;left:0;width:100vw;height:100vh;background:#0008;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;z-index:1000}.modal.jsx-a8578c179bc7cdaa{background:#fff;-webkit-border-radius:10px;-moz-border-radius:10px;border-radius:10px;padding:2rem;min-width:320px;max-width:90vw;-webkit-box-shadow:0 8px 32px#0003;-moz-box-shadow:0 8px 32px#0003;box-shadow:0 8px 32px#0003;position:relative}.modal-details-2col.jsx-a8578c179bc7cdaa{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;gap:2rem;margin-bottom:1rem}.modal-col.jsx-a8578c179bc7cdaa{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;gap:.5rem}.modal-col-left.jsx-a8578c179bc7cdaa{min-width:180px}.modal-col-right.jsx-a8578c179bc7cdaa{min-width:180px}.modal.jsx-a8578c179bc7cdaa button.jsx-a8578c179bc7cdaa{margin-top:1rem;padding:.5rem 1.5rem;background:#0070f3;color:#fff;border:none;-webkit-border-radius:6px;-moz-border-radius:6px;border-radius:6px;font-weight:bold;cursor:pointer}'})]})}}},function(a){a.O(0,[121,774,888,179],function(){return a(a.s=9654)}),_N_E=a.O()}]);